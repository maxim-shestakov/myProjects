# VK Film Library project

## cmd

- CMD-directory содержит файл для запуска приложения

## Internal

- Internal содержит в себе DB config. PostgreSQL был выбран в качестве СУБД.

## pkg

- pkg директория содержит следующие пакеты: handlers, logger, middleware и postgresql
- Данные пакеты реализуют всю логику приложения. В системе предусмотрено два уровня авторизации: администратор и пользователь, с разными правами доступа к системе.

### docs

- Docs директория содержит всю документацию для swagger.

## General info

- Функционал написан в рамках архитектуры REST API.
- Токен авторизации создаётся при входе в систему через функцию login.
- Хэширование токена реализовано через алгоритм HMAC-SHA256.
- Хэширование пароля происходит через библиотеку bcrypt, далее для авторизации сравнивается хэш с возможным ключом хэширования.
- БД была создана через следующие инструменты: OpenServer, DBeaver (с postgres соединением)
- Хранилище - БД на PostgreSQL, instance которой происходит согласно паттерну Singleton.
- Swagger-документация содержит все хэндлеры и модели, используемые в проекте.
- GinRouter используется в качестве роутера для путей.
- Авторизация настроена через middleware-обёртки, используется JWT-токен.
- REST API имеет документацию в формате Swagger 2.0 (OPEN API 3.0).
- Документация инициализируется при запуске контейнера Docker и доступна по запросу http://localhost:8080/swagger/index.html.
- Для приложения создан Dockerfile, для БД - db.Dockerfile. Docker-compose файл сделан для сборки БД и приложения.
 
Команда для запуска приложения - docker compose up --build
Команда для завершения работы приложения - docker compose down
